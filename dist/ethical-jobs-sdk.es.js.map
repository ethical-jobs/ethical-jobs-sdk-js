{"version":3,"file":"ethical-jobs-sdk.es.js","sources":["../node_modules/strict-uri-encode/index.js","../node_modules/object-assign/index.js","../node_modules/query-string/index.js","../src/ApiError.js","../src/index.js"],"sourcesContent":["'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result || accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","function ApiError(message, error) {\n  Object.defineProperty(this, 'name', {\n    enumerable: false,\n    writable: false,\n    value: 'ApiError'\n  });\n\n  Object.defineProperty(this, 'message', {\n    enumerable: false,\n    writable: true,\n    value: message\n  });\n\n  Object.defineProperty(this, 'error', {\n    enumerable: false,\n    writable: true,\n    value: error\n  });\n\n  if (Error.hasOwnProperty('captureStackTrace')) { // V8\n    Error.captureStackTrace(this, ApiError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      enumerable: false,\n      writable: false,\n      value: (new Error(message)).stack\n    });\n  }\n}\n\nif (typeof Object.setPrototypeOf === 'function') {\n  Object.setPrototypeOf(ApiError.prototype, Error.prototype);\n} else {\n  ApiError.prototype = Object.create(Error.prototype, {\n    constructor: { value: ApiError }\n  });\n}\n\nexport default ApiError;\n","import { stringify } from 'query-string';\nimport ApiError from './ApiError';\n\nconst Client = function (environment) {\n\n  this.environment = environment || 'production';\n\n  ['post', 'get', 'put', 'patch', 'delete'].forEach(verb => {\n    this[verb] = (route, params) => this.dispatchRequest(verb, route, params);\n  });\n\n  ['auth','jobs'].forEach(helperNamespace => {\n    this[helperNamespace] = {};\n  });\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.getParams = (verb, params) => {\n    return {\n      method: verb,\n      timeout: 3500,\n      body: verb === 'get' ? null : JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n  };\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.getDomain = (environment = '') => {\n    switch (environment.toLowerCase()) {\n      default:\n      case 'production':\n        return 'http://api.ethicaljobs.com.au';\n      case 'test':\n        return 'http://api.ethicalstaging.com.au';\n      case 'development':\n        return 'http://api.ethicaljobs.local';\n    }\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.getRoute = (route = '', verb = '', params = {}) => {\n    const queryString = verb === 'get' ? stringify(params) : '';\n    return route + (queryString.length ? `?${queryString}` : '');\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.parseJson = (response) => {\n    return response.json().then(json => ({\n      status: response.status,\n      ok: response.ok,\n      json,\n    }));\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.parseJson = (response) => {\n    if (response.ok) {\n      return response.json;\n    } else {\n      throw new ApiError(response.json.message, response.json);\n    }\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.dispatchRequest = (verb, route, params) => {\n    const reqUrl = this.getDomain(this.environment) + this.getRoute(route, verb, params);\n    const reqParams = this.getParams(verb, params);\n    return fetch(reqUrl, reqParams)\n      .then(this.parseJson)\n      .then(this.checkStatus);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.link = (route, params) => {\n    let stringifiedParams = '';\n    if (typeof params === 'object' && Object.keys(params).length) {\n      stringifiedParams = `?${stringify(params)}`;\n    }\n    return `${route}${stringifiedParams}`;\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.initialize = () => {\n    return this.get('/', {});\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.exportUrl = (resource, params) => {\n    return this.link(`/exports/csv/${resource}`, params);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.search = (resource, params) => {\n    return this.get(`/search/${resource}`, params);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.auth.login = (params) => {\n    return this.post('/users/token', params)\n      .then(response => {\n          localStorage.setItem('_token', response && response.meta && response.meta.token);\n          return response;\n      });\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.auth.logout = () => {\n    localStorage.removeItem('_token');\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.auth.load = () => {\n    const token = localStorage.getItem('_token');\n    return this.get(`/users/token/${token}`);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.auth.recoverPassword = (email) => {\n    return this.post('/users/token/recover', { email });\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.auth.resetPassword = (params) => {\n    return this.post('/auth/reset', params);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.jobs.approve = (id) => {\n    return this.patch(`/jobs/${id}`, { status: 'APPROVED' });\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.jobs.expire = (id) => {\n    return this.patch(`/jobs/${id}`, { expires_at: (new Date).getTime() });\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.jobs.attachMedia = (id, formData) => {\n    return this.post(`/jobs/${id}/attachments`, formData);\n  }\n\n  /**\n   * Javascript style DocBlock\n   * @return XXX\n   */\n  this.jobs.detachMedia = (id, attachmentId) => {\n    return this.delete(`/jobs/${id}/attachments/${attachmentId}`, {});\n  }\n};\n\nexport default {\n  Client,\n  ApiError,\n};\n"],"names":["str","encodeURIComponent","replace","c","charCodeAt","toString","toUpperCase","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","target","source","from","to","symbols","s","arguments","length","key","call","encoderForArrayFormat","opts","arrayFormat","value","index","encode","strict","strictUriEncode","obj","defaults","objectAssign","formatter","sort","Array","isArray","result","slice","val2","push","filter","x","ApiError","message","error","defineProperty","Error","captureStackTrace","stack","setPrototypeOf","create","Client","environment","verb","route","params","dispatchRequest","helperNamespace","getParams","JSON","stringify","getDomain","toLowerCase","getRoute","queryString","parseJson","response","json","then","status","ok","reqUrl","reqParams","fetch","checkStatus","link","stringifiedParams","initialize","get","exportUrl","resource","search","auth","login","post","setItem","meta","token","logout","removeItem","load","localStorage","getItem","recoverPassword","email","resetPassword","jobs","approve","id","patch","expire","expires_at","Date","getTime","attachMedia","formData","detachMedia","attachmentId","delete"],"mappings":"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"}